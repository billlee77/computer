<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>


  <title>executing external commands | Perl HowTo</title>
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="all">@import "/misc/drupal.css";</style><link rel="shortcut icon" href="http://www.perlhowto.com/misc/favicon.ico" type="image/x-icon">

<meta name="copyright" content="Copyright (c) 2006 Toshiro Viera Stalker - All rights reserved">
<meta name="description" content="Perl HowTo: executing external commands">
<meta name="keywords" content="system,exec,execute,external,commands,open,perl,howto">
<meta name="robots" content="index,follow">

  <style type="text/css" media="all">@import "/themes/toshiro/style.css";</style><style type="text/css" media="all">@import "/modules/tables/tables.css";</style></head><body bgcolor="#ffffff">

<div class="hide"><a href="#content" title="Skip navigation." accesskey="2">Skip navigation</a>.</div>

<table id="primary-menu" summary="Navigation elements." width="100%" border="0" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="home" width="10%">
              <a href="http://www.perlhowto.com/" title="Home"><img src="executing_external_commands_files/logo.png" alt="Home" border="0"></a>
          </td>

    <td id="site-info" width="40%">
              <div class="site-name"><a href="http://www.perlhowto.com/" title="Home">Perl HowTo</a></div>
                    <div class="site-slogan">Your source for Perl tips, howto's, faq and tutorials</div>
          </td>
    <td class="primary-links" valign="bottom" width="70%" align="right">
<!-- Toshiro    
      <a href="/">Home</a> | <a href="/links">Links</a> | <a href="/rss.xml">RSS feed</a> | <a href="/forum">Forums</a>-->    
    </td>
  </tr>
</tbody></table>

<table id="secondary-menu" summary="Navigation elements." width="100%" border="0" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td class="primary-links" valign="middle" width="75%" align="left">
      <a href="http://www.perlhowto.com/">Home</a> | <a href="http://www.perlhowto.com/links">Links</a> | <a href="http://www.perlhowto.com/rss.xml">RSS feed</a> | <a href="http://www.perlhowto.com/forum">Forums</a>    </td>
    <td valign="middle" width="25%" align="center">
      <form action="/search/node" method="post" id="search_theme_form">
<div><div id="search" class="container-inline"><div class="form-item">
 <input maxlength="128" name="edit[search_theme_form_keys]" id="edit-search_theme_form_keys" size="15" title="Enter the terms you wish to search for." class="form-text" type="text">
</div>
<input name="op" value="Search" class="form-submit" type="submit">
<input name="edit[form_id]" id="edit-search-theme-form" value="search_theme_form" type="hidden">
</div>
</div></form>
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
  </tr>
</tbody></table>

<table id="content" width="100%" border="0" cellpadding="15" cellspacing="0">
  <tbody><tr>
        <td id="sidebar-left">
      <div class="block block-menu" id="block-menu-41">
  <div class="title"><h3>Topics</h3></div>
  <div class="content">
<ul class="menu">
<li class="collapsed"><a href="http://www.perlhowto.com/installation">installation</a></li>
<li class="collapsed"><a href="http://www.perlhowto.com/language">language</a></li>
<li class="collapsed"><a href="http://www.perlhowto.com/programming">programming</a></li>
<li class="collapsed"><a href="http://www.perlhowto.com/usage">usage</a></li>

</ul>
</div>
</div><div class="block block-user" id="block-user-1">
  <div class="title"><h3>Navigation</h3></div>
  <div class="content">
<ul class="menu">
<li class="leaf"><a href="http://www.perlhowto.com/forum">forums</a></li>
<li class="leaf"><a href="http://www.perlhowto.com/tracker">recent posts</a></li>

</ul>
</div>
</div><div class="block block-user" id="block-user-0">
  <div class="title"><h3>User login</h3></div>
  <div class="content"><form action="/executing_external_commands?destination=node%2F80" method="post" id="user-login-form">
<div><div class="form-item">
 <label for="edit-name">Username: <span class="form-required" title="This field is required.">*</span></label>
 <input maxlength="60" name="edit[name]" id="edit-name" size="15" class="form-text required" type="text">
</div>
<div class="form-item">
 <label for="edit-pass">Password: <span class="form-required" title="This field is required.">*</span></label>
 <input name="edit[pass]" id="edit-pass" maxlength="60" size="15" class="form-text required" type="password">
</div>
<input name="op" value="Log in" class="form-submit" type="submit">
<div class="item-list"><ul><li><a href="http://www.perlhowto.com/user/register" title="Create a new user account.">Create new account</a></li><li><a href="http://www.perlhowto.com/user/password" title="Request new password via e-mail.">Request new password</a></li></ul></div><input name="edit[form_id]" id="edit-user-login-block" value="user_login_block" type="hidden">

</div></form>
</div>
</div>
    <!-- Search Google -->
    <center>
    <form method="get" action="http://www.google.com/custom" target="google_window">
    <table bgcolor="#fffaf0">
    <tbody><tr><td height="32" nowrap="nowrap" valign="top" align="center">

    <input name="q" size="22" maxlength="255" type="text">
    </td></tr>
    <tr><td valign="top" align="center">
    <input name="sa" value="Google Search" type="submit">
    <input name="client" value="pub-9998268182887793" type="hidden">
    <input name="forid" value="1" type="hidden">
    <input name="ie" value="ISO-8859-1" type="hidden">
    <input name="oe" value="ISO-8859-1" type="hidden">
    <input name="safe" value="active" type="hidden">
    <input name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFAF0;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1;" type="hidden">
    <input name="hl" value="en" type="hidden">
    </td></tr></tbody></table>
    </form>
    </center>
    <!-- Search Google -->

    <!-- Google ads -->
    <br>
    <center>
    <script type="text/javascript"><!--
    google_ad_client = "pub-9998268182887793";
    google_ad_width = 110;
    google_ad_height = 32;
    google_ad_format = "110x32_as_rimg";
    google_cpa_choice = "CAAQ_-KZzgEaCNKvtTs-3aglKOP143QwAA";
    google_ad_channel = "";
    //-->
    </script>
    <script type="text/javascript" src="executing_external_commands_files/show_ads.js">
    </script><ins style="display: inline-table; border: medium none; height: 32px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 110px;"><ins id="aswift_0_anchor" style="display: block; border: medium none; height: 32px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 110px;"><iframe allowtransparency="true" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+='.call';setTimeout(h,0)}else if(h.match){i+='.nav';w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" vspace="0" id="aswift_0" name="aswift_0" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="32" scrolling="no" width="110"></iframe></ins></ins>

    </center>
    <!-- Google ads -->


    </td>
    
    <td valign="top">
      
      <div id="main">
                  <div class="breadcrumb"><a href="http://www.perlhowto.com/">Home</a>          » <span id="breadcrumb-title">executing external commands</span>
          </div>

          
        
        
        
      <!-- start main content -->
      <!-- begin content --><div class="node">
        <span class="submitted"></span>
        <span class="taxonomy">( categories: <a href="http://www.perlhowto.com/taxonomy/term/24" rel="tag" title="">system</a> )</span>
        <div class="content"><!-- google_ad_section_start --><p>There are many ways to execute external commands from Perl. The most commons are:</p>
<ul>
<li><b>system</b> function</li>
<li><b>exec</b> function</li>
<li><b>backticks (``)</b> operator</li>
<li><b>open</b> function </li>
</ul>
<p>All of these methods have different behaviour, so you should choose 
which one to use depending of your particular need. In brief, these are 
the recommendations:</p>
<p></p><table class="tables-professional">
<tbody><tr class="firstrow"><td class="firstcol">method</td><td class="evencol">use if ...<br></td></tr>
<tr class="evenrow"><td class="firstcol">system()</td><td class="evencol">you want to execute a command and don't want to capture its output<br></td></tr>
<tr class="oddrow"><td class="firstcol">exec</td><td class="evencol">you don't want to return to the calling perl script<br></td></tr>
<tr class="evenrow"><td class="firstcol">backticks</td><td class="evencol">you want to capture the output of the command<br></td></tr>
<tr class="oddrow"><td class="firstcol">open</td><td class="evencol">you want to pipe the command (as input or output) to your script</td></tr>
</tbody></table>
 <br>
<br><br>
More detailed explanations of each method follows:
<p><strong>
</strong></p><li><strong>Using system()</strong></li>
<p><strong></strong></p>
<p>system() executes the command specified. It doesn't capture the output of the command. </p>
<p>system() accepts as argument either a scalar or an array. If the 
argument is a scalar, system() uses a shell to execute the command 
("/bin/sh -c command"); if the argument is an array it executes the 
command directly, considering the first element of the array as the 
command name and the remaining array elements as arguments to the 
command to be executed.</p>
<p>For that reason, it's highly recommended for efficiency and safety 
reasons (specially if you're running a cgi script) that you use an array
 to pass arguments to system()</p>
<p><strong>Example: </strong></p>
<p><code>#-- calling 'command' with arguments<br>
system("command arg1 arg2 arg3");<br>
&nbsp;<br>
#-- better way of calling the same command<br>
system("command", "arg1", "arg2", "arg3");<br>
</code></p>
<p>The return value is set in <b>$?</b>; this value is the exit status 
of the command as returned by the 'wait' call; to get the real exit 
status of the command you have to shift right by 8 the value of $? ($? 
&gt;&gt; 8). </p>
<p>If the value of <b>$?</b> is -1, then the command failed to execute, in that case you may check the value of <b>$!</b> for the reason of the failure.</p>
<p><strong>Example: </strong></p>
<p><code>system("command", "arg1");<br>
if ( $? == -1 )<br>
{<br>
&nbsp;&nbsp;print "command failed: $!\n";<br>
}<br>
else<br>
{<br>
&nbsp;&nbsp;printf "command exited with value %d", $? &gt;&gt; 8;<br>
}<br>
</code></p>
<p><strong>
</strong></p><li><strong>Using exec()</strong></li>
<p><strong></strong></p>
<p>The exec() function executes the command specified and never returns 
to the calling program, except in the case of failure because the 
specified command does not exist AND the exec argument is an array.</p>
<p>Like in system(), is recommended to pass the arguments of the functions as an array.</p>
<p><strong>
</strong></p><li><strong>Using backticks (``)</strong></li>
<p><strong></strong></p>
<p>In this case the command to be executed is surrounded by backticks. 
The command is executed and the output of the command is returned to the
 calling script. </p>
<p>In scalar context it returns a single (possibly multiline) string, in
 list context it returns a list of lines or an empty list if the command
 failed.</p>
<p>The exit status of the executed command is stored in <b>$?</b>  (see system() above for details).</p>
<p><strong>Example: </strong></p>
<p><code>#-- scalar context<br>
$result = `command arg1 arg2`;<br>
&nbsp;<br>
#-- the same command in list context<br>
@result = `command arg2 arg2`;<br>
</code></p>
<p>Notice that the only output captured is STDOUT, to collect messages sent to STDERR you should redirect STDERR to STDOUT</p>
<p><strong>Example: </strong></p>
<p><code>#-- capture STDERR as well as STDOUT<br>
$result = `command 2&gt;&amp;1`;<br>
</code></p>
<p><strong>
</strong></p><li><strong>Using open()</strong></li>
<p><strong></strong></p>
<p>Use open() when you want to:</p>
<p>- capture the data of a command (syntax: open("command |"))</p>
<p>- feed an external command with data generated from the Perl script (syntax: open("| command"))</p>
<p><strong>Examples: </strong></p>
<p><code>#-- list the processes running on your system<br>
open(PS,"ps -e -o pid,stime,args |") || die "Failed: $!\n";<br>
while ( &lt;PS&gt; )<br>
{<br>
&nbsp;&nbsp;#-- do something here<br>
}<br>
&nbsp;<br>
#-- send an email to user@localhost<br>
open(MAIL, "| /bin/mailx -s test user\@localhost ") || die "mailx failed: $!\n";<br>
print MAIL "This is a test message";<br>
</code></p>
<!-- google_ad_section_end --><div class="service-links"><div class="service-label">Bookmark/Search this post with: </div><a href="http://del.icio.us/post?url=http%3A%2F%2Fwww.perlhowto.com%2Fexecuting_external_commands&amp;title=executing+external+commands" title="Bookmark this post on del.icio.us." rel="nofollow"><img src="executing_external_commands_files/delicious.png" alt="delicious"></a> | <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fwww.perlhowto.com%2Fexecuting_external_commands&amp;title=executing+external+commands" title="Digg this post on digg.com." rel="nofollow"><img src="executing_external_commands_files/digg.png" alt="digg"></a> | <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fwww.perlhowto.com%2Fexecuting_external_commands&amp;title=executing+external+commands" title="Bookmark this post on Google." rel="nofollow"><img src="executing_external_commands_files/google.png" alt="google"></a> | <a href="http://myweb2.search.yahoo.com/myresults/bookmarklet?u=http%3A%2F%2Fwww.perlhowto.com%2Fexecuting_external_commands&amp;t=executing+external+commands" title="Bookmark this post on Yahoo." rel="nofollow"><img src="executing_external_commands_files/yahoo.png" alt="yahoo"></a> | <a href="http://technorati.com/cosmos/search.html?url=http%3A%2F%2Fwww.perlhowto.com%2Fexecuting_external_commands" title="Search Technorati for links to this post." rel="nofollow"><img src="executing_external_commands_files/technorati.png" alt="technorati"></a></div></div>
        <div class="links">» <a href="http://www.perlhowto.com/user/login?destination=comment/reply/80%2523comment_form">login</a> or <a href="http://www.perlhowto.com/user/register?destination=comment/reply/80%2523comment_form">register</a> to post comments</div>
        <div><hr></div>
</div>
<a id="comment"></a>
<!-- end content -->      <!-- end main content -->

      </div><!-- main -->
    </td>
        <td id="sidebar-right">
      <div class="block block-adsense" id="block-adsense-0">
  <div class="title"><h3></h3></div>
  <div class="content"><!--adsense: cached-->
<div class="adsense">
<script type="text/javascript"><!--
google_ad_client = "pub-9998268182887793";
google_ad_type = "text_image";
google_ad_channel = "";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_color_border = "fffaf0";
google_color_bg = "fffaf0";
google_color_link = "336699";
google_color_url = "FF8C00";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="executing_external_commands_files/show_ads.js">
</script><ins style="display: inline-table; border: medium none; height: 600px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 160px;"><ins id="aswift_1_anchor" style="display: block; border: medium none; height: 600px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 160px;"><iframe allowtransparency="true" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+='.call';setTimeout(h,0)}else if(h.match){i+='.nav';w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" vspace="0" id="aswift_1" name="aswift_1" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="600" scrolling="no" width="160"></iframe></ins></ins>
</div>
</div>
</div>    </td>
      </tr>
</tbody></table>

<table id="footer-menu" summary="Navigation elements." width="100%" border="0" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td valign="middle" align="center">
          <div class="primary-links">
        <a href="http://www.perlhowto.com/">Home</a> | <a href="http://www.perlhowto.com/links">Links</a> | <a href="http://www.perlhowto.com/rss.xml">RSS feed</a> | <a href="http://www.perlhowto.com/forum">Forums</a>      </div>
            </td>
  </tr>
</tbody></table>

<div id="footer-message">
    <p>Copyright © 2006 Toshiro Viera Stalker - All rights reserved
</p>
</div>
<script type="text/javascript" src="executing_external_commands_files/adsense_click.js"></script></body></html>